function cov_21mgvv0bqb(){var path="/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/retrieve-user.js";var hash="ab363a91a084a9a418af33b74ba0af908ec2606d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/retrieve-user.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:55}},"1":{start:{line:2,column:26},end:{line:2,column:46}},"2":{start:{line:3,column:17},end:{line:3,column:37}},"3":{start:{line:12,column:0},end:{line:28,column:1}},"4":{start:{line:13,column:4},end:{line:13,column:22}},"5":{start:{line:15,column:4},end:{line:27,column:10}},"6":{start:{line:17,column:12},end:{line:17,column:82}},"7":{start:{line:17,column:23},end:{line:17,column:82}},"8":{start:{line:19,column:28},end:{line:19,column:32}},"9":{start:{line:21,column:12},end:{line:21,column:36}},"10":{start:{line:23,column:12},end:{line:23,column:27}},"11":{start:{line:24,column:12},end:{line:24,column:32}},"12":{start:{line:26,column:12},end:{line:26,column:23}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:17},end:{line:12,column:18}},loc:{start:{line:12,column:35},end:{line:28,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:16,column:14},end:{line:16,column:15}},loc:{start:{line:16,column:22},end:{line:27,column:9}},line:16}},branchMap:{"0":{loc:{start:{line:17,column:12},end:{line:17,column:82}},type:"if",locations:[{start:{line:17,column:12},end:{line:17,column:82}},{start:{line:17,column:12},end:{line:17,column:82}}],line:17}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab363a91a084a9a418af33b74ba0af908ec2606d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_21mgvv0bqb=function(){return actualCoverage;};}return actualCoverage;}cov_21mgvv0bqb();const{validateId}=(cov_21mgvv0bqb().s[0]++,require('./helpers/validations'));const{NotFoundError}=(cov_21mgvv0bqb().s[1]++,require('../errors'));const{User}=(cov_21mgvv0bqb().s[2]++,require('../models'));/**
 * Retrieves a user by its id
 * 
 * @param {string} userId 
 * 
 * @returns {Promise}
 */cov_21mgvv0bqb().s[3]++;module.exports=function(userId){cov_21mgvv0bqb().f[0]++;cov_21mgvv0bqb().s[4]++;validateId(userId);cov_21mgvv0bqb().s[5]++;return User.findById(userId).lean().then(user=>{cov_21mgvv0bqb().f[1]++;cov_21mgvv0bqb().s[6]++;if(!user){cov_21mgvv0bqb().b[0][0]++;cov_21mgvv0bqb().s[7]++;throw new NotFoundError(`user with id ${userId} not found`);}else{cov_21mgvv0bqb().b[0][1]++;}const{_id}=(cov_21mgvv0bqb().s[8]++,user);cov_21mgvv0bqb().s[9]++;user.id=_id.toString();cov_21mgvv0bqb().s[10]++;delete user._id;cov_21mgvv0bqb().s[11]++;delete user.password;cov_21mgvv0bqb().s[12]++;return user;});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLXVzZXIuanMiXSwibmFtZXMiOlsidmFsaWRhdGVJZCIsInJlcXVpcmUiLCJOb3RGb3VuZEVycm9yIiwiVXNlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJ1c2VySWQiLCJmaW5kQnlJZCIsImxlYW4iLCJ0aGVuIiwidXNlciIsIl9pZCIsImlkIiwidG9TdHJpbmciLCJwYXNzd29yZCJdLCJtYXBwaW5ncyI6IjhoRUFlWTsyRkFmWixLQUFNLENBQUVBLFVBQUYsMkJBQWlCQyxPQUFPLENBQUMsdUJBQUQsQ0FBeEIsQ0FBTixDQUNBLEtBQU0sQ0FBRUMsYUFBRiwyQkFBb0JELE9BQU8sQ0FBQyxXQUFELENBQTNCLENBQU4sQ0FDQSxLQUFNLENBQUVFLElBQUYsMkJBQVdGLE9BQU8sQ0FBQyxXQUFELENBQWxCLENBQU4sQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHLHdCQUNBRyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsU0FBVUMsTUFBVixDQUFrQixpREFDL0JOLFVBQVUsQ0FBQ00sTUFBRCxDQUFWLENBRCtCLHdCQUcvQixNQUFPSCxDQUFBQSxJQUFJLENBQUNJLFFBQUwsQ0FBY0QsTUFBZCxFQUFzQkUsSUFBdEIsR0FDRkMsSUFERSxDQUNHQyxJQUFJLEVBQUksaURBQ1YsR0FBSSxDQUFDQSxJQUFMLENBQVcseURBQU0sSUFBSVIsQ0FBQUEsYUFBSixDQUFtQixnQkFBZUksTUFBTyxZQUF6QyxDQUFOLENBQTJELENBQXRFLGlDQUVBLEtBQU0sQ0FBRUssR0FBRiwyQkFBVUQsSUFBVixDQUFOLENBSFUsd0JBS1ZBLElBQUksQ0FBQ0UsRUFBTCxDQUFVRCxHQUFHLENBQUNFLFFBQUosRUFBVixDQUxVLHlCQU9WLE1BQU9ILENBQUFBLElBQUksQ0FBQ0MsR0FBWixDQVBVLHlCQVFWLE1BQU9ELENBQUFBLElBQUksQ0FBQ0ksUUFBWixDQVJVLHlCQVVWLE1BQU9KLENBQUFBLElBQVAsQ0FDSCxDQVpFLENBQVAsQ0FhSCxDQWhCRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgdmFsaWRhdGVJZCB9ID0gcmVxdWlyZSgnLi9oZWxwZXJzL3ZhbGlkYXRpb25zJylcbmNvbnN0IHsgTm90Rm91bmRFcnJvciB9ID0gcmVxdWlyZSgnLi4vZXJyb3JzJylcbmNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZSgnLi4vbW9kZWxzJylcblxuLyoqXG4gKiBSZXRyaWV2ZXMgYSB1c2VyIGJ5IGl0cyBpZFxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIFxuICogXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgdmFsaWRhdGVJZCh1c2VySWQpXG5cbiAgICByZXR1cm4gVXNlci5maW5kQnlJZCh1c2VySWQpLmxlYW4oKVxuICAgICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgICAgIGlmICghdXNlcikgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoYHVzZXIgd2l0aCBpZCAke3VzZXJJZH0gbm90IGZvdW5kYClcblxuICAgICAgICAgICAgY29uc3QgeyBfaWQgfSA9IHVzZXJcblxuICAgICAgICAgICAgdXNlci5pZCA9IF9pZC50b1N0cmluZygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRlbGV0ZSB1c2VyLl9pZFxuICAgICAgICAgICAgZGVsZXRlIHVzZXIucGFzc3dvcmRcblxuICAgICAgICAgICAgcmV0dXJuIHVzZXJcbiAgICAgICAgfSlcbn0iXX0=