function cov_2nckpd82be(){var path="/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/search-artists.js";var hash="ef6187f6099af60049a00570edb5f30b219d89b3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/search-artists.js",statementMap:{"0":{start:{line:1,column:25},end:{line:1,column:57}},"1":{start:{line:2,column:26},end:{line:2,column:46}},"2":{start:{line:3,column:17},end:{line:3,column:37}},"3":{start:{line:5,column:0},end:{line:21,column:1}},"4":{start:{line:6,column:0},end:{line:6,column:20}},"5":{start:{line:7,column:4},end:{line:20,column:6}},"6":{start:{line:10,column:8},end:{line:10,column:85}},"7":{start:{line:10,column:19},end:{line:10,column:85}},"8":{start:{line:12,column:12},end:{line:18,column:14}},"9":{start:{line:17,column:16},end:{line:17,column:36}},"10":{start:{line:19,column:12},end:{line:19,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:27},end:{line:21,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:10},end:{line:9,column:11}},loc:{start:{line:9,column:17},end:{line:20,column:5}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:26},end:{line:12,column:27}},loc:{start:{line:12,column:33},end:{line:18,column:13}},line:12}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:10,column:85}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:85}},{start:{line:10,column:8},end:{line:10,column:85}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ef6187f6099af60049a00570edb5f30b219d89b3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2nckpd82be=function(){return actualCoverage;};}return actualCoverage;}cov_2nckpd82be();const{validateTags}=(cov_2nckpd82be().s[0]++,require('./helpers/validations'));const{NotFoundError}=(cov_2nckpd82be().s[1]++,require('../errors'));const{User}=(cov_2nckpd82be().s[2]++,require('../models'));cov_2nckpd82be().s[3]++;module.exports=myTags=>{cov_2nckpd82be().f[0]++;cov_2nckpd82be().s[4]++;validateTags(myTags);cov_2nckpd82be().s[5]++;return User.find({tags:myTags}).lean().then(users=>{cov_2nckpd82be().f[1]++;cov_2nckpd82be().s[6]++;if(!users){cov_2nckpd82be().b[0][0]++;cov_2nckpd82be().s[7]++;new NotFoundError(`artists with these genres ${myTags} not found`);}else{cov_2nckpd82be().b[0][1]++;}cov_2nckpd82be().s[8]++;users.forEach(user=>{cov_2nckpd82be().f[2]++;cov_2nckpd82be().s[9]++;// const {_id} = user
// user.id =_id.toString()
// delete user._id
delete user.password;});cov_2nckpd82be().s[10]++;return users;});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC1hcnRpc3RzLmpzIl0sIm5hbWVzIjpbInZhbGlkYXRlVGFncyIsInJlcXVpcmUiLCJOb3RGb3VuZEVycm9yIiwiVXNlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJteVRhZ3MiLCJmaW5kIiwidGFncyIsImxlYW4iLCJ0aGVuIiwidXNlcnMiLCJmb3JFYWNoIiwidXNlciIsInBhc3N3b3JkIl0sIm1hcHBpbmdzIjoieWlFQWVZOzJGQWZaLEtBQU0sQ0FBRUEsWUFBRiwyQkFBbUJDLE9BQU8sQ0FBQyx1QkFBRCxDQUExQixDQUFOLENBQ0EsS0FBTSxDQUFFQyxhQUFGLDJCQUFvQkQsT0FBTyxDQUFDLFdBQUQsQ0FBM0IsQ0FBTixDQUNBLEtBQU0sQ0FBRUUsSUFBRiwyQkFBV0YsT0FBTyxDQUFDLFdBQUQsQ0FBbEIsQ0FBTixDLHdCQUVBRyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJDLE1BQU0sRUFBSSxpREFDM0JOLFlBQVksQ0FBQ00sTUFBRCxDQUFaLENBRDJCLHdCQUV2QixNQUFPSCxDQUFBQSxJQUFJLENBQ1ZJLElBRE0sQ0FDRCxDQUFFQyxJQUFJLENBQUVGLE1BQVIsQ0FEQyxFQUNpQkcsSUFEakIsR0FFTkMsSUFGTSxDQUVEQyxLQUFLLEVBQUUsaURBQ1QsR0FBRyxDQUFDQSxLQUFKLENBQVcsdURBQUlULENBQUFBLGFBQUosQ0FBbUIsNkJBQTRCSSxNQUFPLFlBQXRELEVBQWtFLENBQTdFLGlDQURTLHdCQUdMSyxLQUFLLENBQUNDLE9BQU4sQ0FBY0MsSUFBSSxFQUFHLGlEQUNqQjtBQUNBO0FBRUE7QUFDQSxNQUFPQSxDQUFBQSxJQUFJLENBQUNDLFFBQVosQ0FDSCxDQU5ELEVBSEsseUJBVUwsTUFBT0gsQ0FBQUEsS0FBUCxDQUNQLENBYk0sQ0FBUCxDQWNILENBaEJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyB2YWxpZGF0ZVRhZ3MgfSA9IHJlcXVpcmUoJy4vaGVscGVycy92YWxpZGF0aW9ucycpXG5jb25zdCB7IE5vdEZvdW5kRXJyb3IgfSA9IHJlcXVpcmUoJy4uL2Vycm9ycycpXG5jb25zdCB7IFVzZXIgfSA9IHJlcXVpcmUoJy4uL21vZGVscycpXG5cbm1vZHVsZS5leHBvcnRzID0gbXlUYWdzID0+IHtcbnZhbGlkYXRlVGFncyhteVRhZ3MpXG4gICAgcmV0dXJuIFVzZXJcbiAgICAuZmluZCh7IHRhZ3M6IG15VGFncyB9KS5sZWFuKClcbiAgICAudGhlbih1c2Vycz0+e1xuICAgICAgICBpZighdXNlcnMpIG5ldyBOb3RGb3VuZEVycm9yKGBhcnRpc3RzIHdpdGggdGhlc2UgZ2VucmVzICR7bXlUYWdzfSBub3QgZm91bmRgKVxuXG4gICAgICAgICAgICB1c2Vycy5mb3JFYWNoKHVzZXIgPT57XG4gICAgICAgICAgICAgICAgLy8gY29uc3Qge19pZH0gPSB1c2VyXG4gICAgICAgICAgICAgICAgLy8gdXNlci5pZCA9X2lkLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdXNlci5faWRcbiAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5wYXNzd29yZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybiB1c2Vyc1xuICAgIH0pXG59Il19