function cov_p0jvl3gsg(){var path="/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/authenticate-user.js";var hash="027bd6eaa205e7d761677acfd33836644b65b820";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/authenticate-user.js",statementMap:{"0":{start:{line:1,column:44},end:{line:1,column:76}},"1":{start:{line:2,column:22},end:{line:2,column:42}},"2":{start:{line:3,column:17},end:{line:3,column:37}},"3":{start:{line:5,column:0},end:{line:18,column:1}},"4":{start:{line:6,column:4},end:{line:6,column:24}},"5":{start:{line:7,column:4},end:{line:7,column:30}},"6":{start:{line:10,column:4},end:{line:17,column:10}},"7":{start:{line:12,column:12},end:{line:12,column:63}},"8":{start:{line:12,column:23},end:{line:12,column:63}},"9":{start:{line:14,column:28},end:{line:14,column:32}},"10":{start:{line:16,column:12},end:{line:16,column:33}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:44},end:{line:18,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:14},end:{line:11,column:15}},loc:{start:{line:11,column:22},end:{line:17,column:9}},line:11}},branchMap:{"0":{loc:{start:{line:12,column:12},end:{line:12,column:63}},type:"if",locations:[{start:{line:12,column:12},end:{line:12,column:63}},{start:{line:12,column:12},end:{line:12,column:63}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"027bd6eaa205e7d761677acfd33836644b65b820"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_p0jvl3gsg=function(){return actualCoverage;};}return actualCoverage;}cov_p0jvl3gsg();const{validateEmail,validatePassword}=(cov_p0jvl3gsg().s[0]++,require('./helpers/validations'));const{AuthError}=(cov_p0jvl3gsg().s[1]++,require('../errors'));const{User}=(cov_p0jvl3gsg().s[2]++,require('../models'));cov_p0jvl3gsg().s[3]++;module.exports=function(email,password){cov_p0jvl3gsg().f[0]++;cov_p0jvl3gsg().s[4]++;validateEmail(email);cov_p0jvl3gsg().s[5]++;validatePassword(password);cov_p0jvl3gsg().s[6]++;return User.findOne({email,password}).lean().then(user=>{cov_p0jvl3gsg().f[1]++;cov_p0jvl3gsg().s[7]++;if(!user){cov_p0jvl3gsg().b[0][0]++;cov_p0jvl3gsg().s[8]++;throw new AuthError('wrong credentials');}else{cov_p0jvl3gsg().b[0][1]++;}const{_id}=(cov_p0jvl3gsg().s[9]++,user);cov_p0jvl3gsg().s[10]++;return _id.toString();});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0ZS11c2VyLmpzIl0sIm5hbWVzIjpbInZhbGlkYXRlRW1haWwiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwicmVxdWlyZSIsIkF1dGhFcnJvciIsIlVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiZW1haWwiLCJwYXNzd29yZCIsImZpbmRPbmUiLCJsZWFuIiwidGhlbiIsInVzZXIiLCJfaWQiLCJ0b1N0cmluZyJdLCJtYXBwaW5ncyI6IjI1REFlWTt5RkFmWixLQUFNLENBQUVBLGFBQUYsQ0FBaUJDLGdCQUFqQiwwQkFBc0NDLE9BQU8sQ0FBQyx1QkFBRCxDQUE3QyxDQUFOLENBQ0EsS0FBTSxDQUFFQyxTQUFGLDBCQUFnQkQsT0FBTyxDQUFDLFdBQUQsQ0FBdkIsQ0FBTixDQUNBLEtBQU0sQ0FBRUUsSUFBRiwwQkFBV0YsT0FBTyxDQUFDLFdBQUQsQ0FBbEIsQ0FBTixDLHVCQUVBRyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsU0FBVUMsS0FBVixDQUFpQkMsUUFBakIsQ0FBMkIsK0NBQ3hDUixhQUFhLENBQUNPLEtBQUQsQ0FBYixDQUR3Qyx1QkFFeENOLGdCQUFnQixDQUFDTyxRQUFELENBQWhCLENBRndDLHVCQUt4QyxNQUFPSixDQUFBQSxJQUFJLENBQUNLLE9BQUwsQ0FBYSxDQUFFRixLQUFGLENBQVNDLFFBQVQsQ0FBYixFQUFrQ0UsSUFBbEMsR0FDRkMsSUFERSxDQUNHQyxJQUFJLEVBQUksK0NBQ1YsR0FBSSxDQUFDQSxJQUFMLENBQVcsdURBQU0sSUFBSVQsQ0FBQUEsU0FBSixDQUFjLG1CQUFkLENBQU4sQ0FBd0MsQ0FBbkQsZ0NBRUEsS0FBTSxDQUFFVSxHQUFGLDBCQUFVRCxJQUFWLENBQU4sQ0FIVSx3QkFLVixNQUFPQyxDQUFBQSxHQUFHLENBQUNDLFFBQUosRUFBUCxDQUNILENBUEUsQ0FBUCxDQVFILENBYkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHZhbGlkYXRlRW1haWwsIHZhbGlkYXRlUGFzc3dvcmQgfSA9IHJlcXVpcmUoJy4vaGVscGVycy92YWxpZGF0aW9ucycpXG5jb25zdCB7IEF1dGhFcnJvciB9ID0gcmVxdWlyZSgnLi4vZXJyb3JzJylcbmNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZSgnLi4vbW9kZWxzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgdmFsaWRhdGVFbWFpbChlbWFpbClcbiAgICB2YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkKVxuXG5cbiAgICByZXR1cm4gVXNlci5maW5kT25lKHsgZW1haWwsIHBhc3N3b3JkIH0pLmxlYW4oKVxuICAgICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgICAgIGlmICghdXNlcikgdGhyb3cgbmV3IEF1dGhFcnJvcignd3JvbmcgY3JlZGVudGlhbHMnKVxuXG4gICAgICAgICAgICBjb25zdCB7IF9pZCB9ID0gdXNlclxuXG4gICAgICAgICAgICByZXR1cm4gX2lkLnRvU3RyaW5nKClcbiAgICAgICAgfSlcbn0iXX0=