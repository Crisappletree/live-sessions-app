function cov_2cuk2zny0o(){var path="/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/modify-live.js";var hash="ff2c3b809ad25e946dfaf5ff82a692ada4908c8a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/CRIS/bootcamp/collab/letscoder-bootcamp-202010/staff/cristian-manzano/LiveSessions-project/LiveSessions-api/logic/modify-live.js",statementMap:{"0":{start:{line:9,column:6},end:{line:9,column:38}},"1":{start:{line:10,column:20},end:{line:10,column:50}},"2":{start:{line:11,column:26},end:{line:11,column:46}},"3":{start:{line:12,column:17},end:{line:12,column:37}},"4":{start:{line:14,column:0},end:{line:33,column:1}},"5":{start:{line:16,column:4},end:{line:16,column:58}},"6":{start:{line:16,column:39},end:{line:16,column:58}},"7":{start:{line:17,column:4},end:{line:17,column:24}},"8":{start:{line:18,column:4},end:{line:18,column:30}},"9":{start:{line:19,column:4},end:{line:19,column:26}},"10":{start:{line:20,column:4},end:{line:20,column:30}},"11":{start:{line:21,column:4},end:{line:21,column:28}},"12":{start:{line:22,column:4},end:{line:22,column:36}},"13":{start:{line:24,column:4},end:{line:32,column:5}},"14":{start:{line:25,column:8},end:{line:31,column:14}},"15":{start:{line:29,column:16},end:{line:30,column:35}},"16":{start:{line:30,column:32},end:{line:30,column:34}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:17},end:{line:14,column:18}},loc:{start:{line:14,column:92},end:{line:33,column:1}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:24,column:21},end:{line:24,column:22}},loc:{start:{line:25,column:8},end:{line:31,column:14}},line:25},"2":{name:"(anonymous_2)",decl:{start:{line:27,column:18},end:{line:27,column:19}},loc:{start:{line:27,column:26},end:{line:31,column:13}},line:27},"3":{name:"(anonymous_3)",decl:{start:{line:30,column:22},end:{line:30,column:23}},loc:{start:{line:30,column:32},end:{line:30,column:34}},line:30}},branchMap:{"0":{loc:{start:{line:16,column:4},end:{line:16,column:58}},type:"if",locations:[{start:{line:16,column:4},end:{line:16,column:58}},{start:{line:16,column:4},end:{line:16,column:58}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ff2c3b809ad25e946dfaf5ff82a692ada4908c8a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2cuk2zny0o=function(){return actualCoverage;};}return actualCoverage;}cov_2cuk2zny0o();const{validateId,validateDescription,validateTitle,validateLiveDate,validateStatus,validateDuration,validatePayment}=(cov_2cuk2zny0o().s[0]++,require("./helpers/validations"));const semaphore=(cov_2cuk2zny0o().s[1]++,require('./helpers/semaphore'));const{ConflictError}=(cov_2cuk2zny0o().s[2]++,require('../errors'));const{Live}=(cov_2cuk2zny0o().s[3]++,require('../models'));cov_2cuk2zny0o().s[4]++;module.exports=function(liveId,title,liveDate,duration,status,payment,description){cov_2cuk2zny0o().f[0]++;cov_2cuk2zny0o().s[5]++;if(typeof liveId!=="undefined"){cov_2cuk2zny0o().b[0][0]++;cov_2cuk2zny0o().s[6]++;validateId(liveId);}else{cov_2cuk2zny0o().b[0][1]++;}cov_2cuk2zny0o().s[7]++;validateTitle(title);cov_2cuk2zny0o().s[8]++;validateLiveDate(liveDate);cov_2cuk2zny0o().s[9]++;validateStatus(status);cov_2cuk2zny0o().s[10]++;validateDuration(duration);cov_2cuk2zny0o().s[11]++;validatePayment(payment);cov_2cuk2zny0o().s[12]++;validateDescription(description);cov_2cuk2zny0o().s[13]++;return semaphore(()=>{cov_2cuk2zny0o().f[1]++;cov_2cuk2zny0o().s[14]++;return Live.findOne({_id:liveId}).lean().then(live=>{cov_2cuk2zny0o().f[2]++;cov_2cuk2zny0o().s[15]++;// if (!live) throw new Error(`live with id ${liveId} does not exists`)
Live.updateOne({_id:liveId},{$set:{title,liveDate,duration,status,payment,description}}).then(result=>{cov_2cuk2zny0o().f[3]++;cov_2cuk2zny0o().s[16]++;return'';});});});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGlmeS1saXZlLmpzIl0sIm5hbWVzIjpbInZhbGlkYXRlSWQiLCJ2YWxpZGF0ZURlc2NyaXB0aW9uIiwidmFsaWRhdGVUaXRsZSIsInZhbGlkYXRlTGl2ZURhdGUiLCJ2YWxpZGF0ZVN0YXR1cyIsInZhbGlkYXRlRHVyYXRpb24iLCJ2YWxpZGF0ZVBheW1lbnQiLCJyZXF1aXJlIiwic2VtYXBob3JlIiwiQ29uZmxpY3RFcnJvciIsIkxpdmUiLCJtb2R1bGUiLCJleHBvcnRzIiwibGl2ZUlkIiwidGl0bGUiLCJsaXZlRGF0ZSIsImR1cmF0aW9uIiwic3RhdHVzIiwicGF5bWVudCIsImRlc2NyaXB0aW9uIiwiZmluZE9uZSIsIl9pZCIsImxlYW4iLCJ0aGVuIiwibGl2ZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJyZXN1bHQiXSwibWFwcGluZ3MiOiJza0ZBZVk7MkZBZlosS0FBTSxDQUNGQSxVQURFLENBRUZDLG1CQUZFLENBR0ZDLGFBSEUsQ0FJRkMsZ0JBSkUsQ0FLRkMsY0FMRSxDQU1GQyxnQkFORSxDQU9GQyxlQVBFLDJCQVFBQyxPQUFPLENBQUMsdUJBQUQsQ0FSUCxDQUFOLENBU0UsS0FBTUMsQ0FBQUEsU0FBUywwQkFBR0QsT0FBTyxDQUFDLHFCQUFELENBQVYsQ0FBZixDQUNGLEtBQU0sQ0FBRUUsYUFBRiwyQkFBb0JGLE9BQU8sQ0FBQyxXQUFELENBQTNCLENBQU4sQ0FDQSxLQUFNLENBQUVHLElBQUYsMkJBQVdILE9BQU8sQ0FBQyxXQUFELENBQWxCLENBQU4sQyx3QkFFQUksTUFBTSxDQUFDQyxPQUFQLENBQWlCLFNBQVVDLE1BQVYsQ0FBa0JDLEtBQWxCLENBQXlCQyxRQUF6QixDQUFtQ0MsUUFBbkMsQ0FBNkNDLE1BQTdDLENBQXFEQyxPQUFyRCxDQUE4REMsV0FBOUQsQ0FBMkUsaURBRXhGLEdBQUksTUFBT04sQ0FBQUEsTUFBUCxHQUFrQixXQUF0QixDQUFtQyxvREFBQWIsVUFBVSxDQUFDYSxNQUFELENBQVYsQ0FBbUIsQ0FBdEQsaUNBRndGLHdCQUd4RlgsYUFBYSxDQUFDWSxLQUFELENBQWIsQ0FId0Ysd0JBSXhGWCxnQkFBZ0IsQ0FBQ1ksUUFBRCxDQUFoQixDQUp3Rix3QkFLeEZYLGNBQWMsQ0FBQ2EsTUFBRCxDQUFkLENBTHdGLHlCQU14RlosZ0JBQWdCLENBQUNXLFFBQUQsQ0FBaEIsQ0FOd0YseUJBT3hGVixlQUFlLENBQUNZLE9BQUQsQ0FBZixDQVB3Rix5QkFReEZqQixtQkFBbUIsQ0FBQ2tCLFdBQUQsQ0FBbkIsQ0FSd0YseUJBVXhGLE1BQU9YLENBQUFBLFNBQVMsQ0FBQyxJQUNiLHdEQUFBRSxDQUFBQSxJQUFJLENBQ0NVLE9BREwsQ0FDYSxDQUFFQyxHQUFHLENBQUVSLE1BQVAsQ0FEYixFQUM4QlMsSUFEOUIsR0FFS0MsSUFGTCxDQUVVQyxJQUFJLEVBQUksa0RBQ1Y7QUFDQWQsSUFBSSxDQUFDZSxTQUFMLENBQWUsQ0FBRUosR0FBRyxDQUFFUixNQUFQLENBQWYsQ0FBZ0MsQ0FBQ2EsSUFBSSxDQUFFLENBQUVaLEtBQUYsQ0FBU0MsUUFBVCxDQUFtQkMsUUFBbkIsQ0FBNkJDLE1BQTdCLENBQXFDQyxPQUFyQyxDQUE4Q0MsV0FBOUMsQ0FBUCxDQUFoQyxFQUNDSSxJQURELENBQ01JLE1BQU0sRUFBSSwyREFBRSxDQURsQixFQUVILENBTkwsRUFNTSxDQVBNLENBQWhCLENBU0gsQ0FuQkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7XG4gICAgdmFsaWRhdGVJZCxcbiAgICB2YWxpZGF0ZURlc2NyaXB0aW9uLFxuICAgIHZhbGlkYXRlVGl0bGUsXG4gICAgdmFsaWRhdGVMaXZlRGF0ZSxcbiAgICB2YWxpZGF0ZVN0YXR1cyxcbiAgICB2YWxpZGF0ZUR1cmF0aW9uLFxuICAgIHZhbGlkYXRlUGF5bWVudFxuICB9ID0gcmVxdWlyZShcIi4vaGVscGVycy92YWxpZGF0aW9uc1wiKTtcbiAgY29uc3Qgc2VtYXBob3JlID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NlbWFwaG9yZScpXG5jb25zdCB7IENvbmZsaWN0RXJyb3IgfSA9IHJlcXVpcmUoJy4uL2Vycm9ycycpXG5jb25zdCB7IExpdmUgfSA9IHJlcXVpcmUoJy4uL21vZGVscycpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpdmVJZCwgdGl0bGUsIGxpdmVEYXRlLCBkdXJhdGlvbiwgc3RhdHVzLCBwYXltZW50LCBkZXNjcmlwdGlvbikge1xuXG4gICAgaWYgKHR5cGVvZiBsaXZlSWQgIT09IFwidW5kZWZpbmVkXCIpIHZhbGlkYXRlSWQobGl2ZUlkKTtcbiAgICB2YWxpZGF0ZVRpdGxlKHRpdGxlKVxuICAgIHZhbGlkYXRlTGl2ZURhdGUobGl2ZURhdGUpXG4gICAgdmFsaWRhdGVTdGF0dXMoc3RhdHVzKVxuICAgIHZhbGlkYXRlRHVyYXRpb24oZHVyYXRpb24pXG4gICAgdmFsaWRhdGVQYXltZW50KHBheW1lbnQpXG4gICAgdmFsaWRhdGVEZXNjcmlwdGlvbihkZXNjcmlwdGlvbilcblxuICAgIHJldHVybiBzZW1hcGhvcmUoKCkgPT4gXG4gICAgICAgIExpdmVcbiAgICAgICAgICAgIC5maW5kT25lKHsgX2lkOiBsaXZlSWQgfSkubGVhbigpXG4gICAgICAgICAgICAudGhlbihsaXZlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpZiAoIWxpdmUpIHRocm93IG5ldyBFcnJvcihgbGl2ZSB3aXRoIGlkICR7bGl2ZUlkfSBkb2VzIG5vdCBleGlzdHNgKVxuICAgICAgICAgICAgICAgIExpdmUudXBkYXRlT25lKHsgX2lkOiBsaXZlSWQgfSwgeyRzZXQ6IHsgdGl0bGUsIGxpdmVEYXRlLCBkdXJhdGlvbiwgc3RhdHVzLCBwYXltZW50LCBkZXNjcmlwdGlvbiB9IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+ICcnKVxuICAgICAgICAgICAgfSlcbiAgICApXG59Il19